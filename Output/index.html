<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Output - HPC Cost Simulator</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="..">HPC Cost Simulator</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">HPC Cost Simulator (HCS)</a>
                            </li>
                            <li class="navitem">
                                <a href="../AcceleratorLogParser/" class="nav-link">Altair Accelerator</a>
                            </li>
                            <li class="navitem">
                                <a href="../LSFLogParser/" class="nav-link">IBM Spectrum LSF</a>
                            </li>
                            <li class="navitem">
                                <a href="../SlurmLogParser/" class="nav-link">Slurm</a>
                            </li>
                            <li class="navitem">
                                <a href="../JobAnalyzer/" class="nav-link">Job Analyzer</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Output</a>
                            </li>
                            <li class="navitem">
                                <a href="../config/" class="nav-link">Config</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../JobAnalyzer/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../config/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/aws-samples/hpc-cost-simulator/edit/master/docs/Output.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#output" class="nav-link">Output</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#hourly_statsxlsx" class="nav-link">hourly_stats.xlsx</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#savings-plan-optimization" class="nav-link">Savings Plan Optimization</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="4"><a href="#windows" class="nav-link">Windows:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#mac-os" class="nav-link">Mac OS:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#optimize-savings-plans-using-excel-solver" class="nav-link">Optimize Savings Plans Using Excel Solver</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="output">Output</h1>
<p>HCS generates multiple output files:</p>
<table>
<thead>
<tr>
<th>File Name</th>
<th>Quantity</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>hourly_stats.xlsx</td>
<td>1</td>
<td>The full anonymized output, the only file you'll share with your AWS account team (should you choose to do so</td>
</tr>
<tr>
<td>hourly-######.csv</td>
<td>1 per hour</td>
<td>Temporary files, includes all the jobs that started in a specific hour</td>
</tr>
<tr>
<td>summary.csv</td>
<td>1</td>
<td>Aggregated summary of all your jobs (statistics). This data also appears in the Excel output file</td>
</tr>
<tr>
<td>hourly_stats.csv</td>
<td>1</td>
<td>Host simulation output, includes. This data also appears in the Excel output file.</td>
</tr>
<tr>
<td>JobAnalyzer-####-##-##_##-##-##.log</td>
<td>1</td>
<td>Simulation log file for trouble shooting</td>
</tr>
</tbody>
</table>
<h3 id="hourly_statsxlsx">hourly_stats.xlsx</h3>
<p>This is the main output file, and will be analyzed moving forward. All other files are only used for troubleshooting and or re-running a subset of the analysis.</p>
<p>The Excel spreadsheet provides a convenient way to view the data and perform calculations on it.
For example, in the following example the "<strong>First hour to analyze</strong>" was changed to only include the last 12 months worth of data.</p>
<p><img alt="Cost Summary" src="../images/cost-summary.png" /></p>
<p>The <strong>InstanceFamilySummary</strong> worksheet can be used to get insights into the predicted usage of different instance families.
In this example it shows that the c6i family is used the most with very little utilization of other instance families.
The average hourly use can be used to help choose the upper constraint for the savings plans.</p>
<p><img alt="Instance Family Summary" src="../images/instance-family-info.png" /></p>
<h3 id="savings-plan-optimization">Savings Plan Optimization</h3>
<p><code>hourly_stats.xlsx</code> allows you to optimize your costs further by simulating the impact of <a href="https://aws.amazon.com/savingsplans/">Savings Plans</a> (SP) on your overall costs, and finding the optimal SP cost for your workload. To do this, you will need to enable Excel's numerical solver add-in.</p>
<p>To use the solver, you first need to enable it.</p>
<h4 id="windows">Windows:</h4>
<p>Select <strong>File</strong> -&gt; <strong>Options</strong></p>
<p><img alt="file-options" src="../images/file-options.png" /></p>
<p>Select <strong>Add-ins</strong> on the lower left.</p>
<p><img alt="add-ins" src="../images/add-ins-1.png" /></p>
<p>If the <strong>Solver Add-in</strong> isn't active then select <strong>Manage: Excel Add-ins</strong> and click <strong>Go</strong>.</p>
<p><img alt="solver add-in" src="../images/solver-add-in.png" /></p>
<p>Select the <strong>Solver Add-in</strong> and click <strong>OK</strong>.</p>
<p>If the <strong>Solver Add-in</strong> is already active then it will show up like this.</p>
<p><img alt="solver add-in activated" src="../images/add-ins-2.png" /></p>
<h4 id="mac-os">Mac OS:</h4>
<p>Select <strong>Tools</strong> -&gt; <strong>Options</strong></p>
<p><img alt="Tools-Add-Ins" src="../images/MacAddIn.png" /></p>
<p>If the <strong>Solver Add-in</strong> isn't active then select it and click <strong>OK</strong>.</p>
<p><img alt="Tools-Add-Ins" src="../images/MacEnableSolver.png" /></p>
<h4 id="optimize-savings-plans-using-excel-solver">Optimize Savings Plans Using Excel Solver</h4>
<p>Now you are ready to run the solver.
Copy the original values by selecting column B and pasting the values into column C (This will allow you to compare before vs. after cost optimization).</p>
<p>Then select the <strong>Data</strong> menu select <strong>Solver</strong> on the ribbon.</p>
<p>Configure the solver by selecting the total cost as the <strong>Objective</strong>.
Then select the Savings Plan commit cells in <strong>By Changing Variable Cells</strong>.</p>
<p>Do <strong>not</strong> select the total cell, only the $ value for specific instance family types:</p>
<p><img alt="Solver Configuration" src="../images/MacSolverConfiguration.png" /></p>
<p>Optionally, you may add constraints for the Savings Plan commit cells.</p>
<p><strong>Windows:</strong></p>
<p><img alt="solver parameters Windows" src="../images/solver-parameters.png" /></p>
<p><strong>Mac OS</strong></p>
<p><img alt="solver parameters Mac" src="../images/MacSolverAddIn.png" /></p>
<p>Then click <strong>Solve</strong> and wait while the Solver calculates the savings plan commits
that will minimize your overall costs.
The solver may run a while, but when it finishes then save the results.</p>
<p><strong>Windows:</strong></p>
<p><img alt="Save Solver Results" src="../images/solver-results.png" /></p>
<p><strong>Mac OS:</strong></p>
<p><img alt="Save Solver Results" src="../images/MacSolverResults.png" /></p>
<p>The spreadsheet will then show the savings plan commits that minimize the total costs.
In this case Savings Plans were able to reduce total costs by about 10%.
Note that this is due to the very variable nature of the jobs.
The more uniform usage you have, the more cost-effective Savings Plans will be.</p>
<p><img alt="Optimized cost" src="../images/solver-savings.png" /></p>
<p>This graph shows the variability of the workload.</p>
<p><img alt="Optimized cost" src="../images/core-hours-chart.png" /></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
